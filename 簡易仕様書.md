# 簡易仕様書

## アプリ名
ザッピングルメ！ (Zappingourmet)

## 対象OS
iOS 14.0 以上

## 開発環境/言語
Xcode 14.2
Swift 5.7.2

## 開発期間
7日間

## 機能概要(機能一覧)
- 店舗検索
  - ホットペッパー「グルメサーチAPI」で現在地周辺のレストランを検索
  - マップ上で現在地・検索範囲を確認可能
  - ホットペッパー「ジャンルマスタAPI」が提供するジャンルで絞り込み可能
- 店舗情報取得
  - 検索した店舗名・営業時間などの基本情報を表示
  - 個室の有無などの詳細情報はタグクラウド風に表示
- 店舗のURLを開く
  - デバイス既定のブラウザで開く
- 現在地から店舗への徒歩ルート表示
  - マップ上に現在地、店舗位置、及び徒歩ルートの表示
  - 店舗の住所や最寄り駅等からのアクセスも併せて表示

## 画面概要
- 検索入力
  - 現在地(位置情報)、範囲、ジャンルを指定して店舗検索
  - ホットペッパーのクレジット表示(リンク付き)
- 店舗一覧
  - 検索条件に合った店舗をリスト表示
  - 店舗はスクロールすると10件ごとに読み込み(いわゆる無限スクロール)
- 店舗詳細
  - 店舗一覧から選んだ店舗の詳細情報を表示
  - 店舗のURLを開く
  - マップ上で現在地からの徒歩ルートを表示

## 使用しているライブラリ、SDKなど
- [ホットペッパーAPI](https://webservice.recruit.co.jp/doc/hotpepper/reference.html)
- [Moya](https://github.com/Moya/Moya)

## コンセプト
- 「近くのレストランをザッピングして、行きたい場所をその場で決められる！」
- 少ない操作でサクッと検索して、レストランや料理の画像から惹かれるものを選ぶという手軽さを重視

## こだわったポイント
- コンセプトを最初に決めて、操作を手軽にするという基本方針から離れないようにした
- UI部品やAPIの再利用性を意識した
  - 追加実装したジャンル絞り込みは、APIもUI部品も一部再利用している
  - SwiftUIへの移行も考慮して、APIの非同期処理はCombineで実装

## デザイン面でこだわったポイント
- Apple公式アプリのデザインを強く意識して、利用者が直感的に使い方が分かるようにした
- アプリ起動中のダークモード切り替えでも表示が崩れないように配慮した

## アドバイスして欲しいポイント
- 検索の手軽さを残したまま、検索条件を増やしたい
- UIKitで今回のMVPもどきよりも良いアーキテクチャを採用したい

## 自己評価
- 良かった点
  - デザインや機能としては考えた通りに実装できた
  - 最低限の機能を実装してから機能を追加していくという、期日に配慮した進行ができた
- 改善点
  - Viewの分割が不十分でFatViewController気味
  - Viewや位置情報の認証について、様々な条件や状態遷移などから不具合を洗い出しきれていない

## 発生中の問題
- 実機デバッグ中に設定画面へ遷移するとクラッシュする
  - XcodeのRunではなく普通にアプリを起動して使えば発生しない

## 今後実装したい機能
- 検索条件の追加
  - コンセプトを踏まえて、キーワード検索よりも予算や個室・駐車場の有無などを指定できるようにしたい
- 店舗詳細の情報量増加
- 店舗への徒歩以外によるルート表示
  - 地図アプリのように移動手段を切り替えて表示できるようにしたい
